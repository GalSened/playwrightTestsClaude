# CMO/ELG Service Configuration

# Database - Postgres
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=playwright_enterprise
POSTGRES_USER=admin
POSTGRES_PASSWORD=secure123
POSTGRES_SSL=false
POSTGRES_MAX_CONNECTIONS=20

# Redis Streams (A2A Transport)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_STREAM_NAME=cmo:a2a
REDIS_CONSUMER_GROUP=cmo-workers
REDIS_CONSUMER_NAME=cmo-worker-1
REDIS_DLQ_STREAM=cmo:a2a:dlq

# S3-compatible storage (MinIO) - Artifacts
S3_ENDPOINT=http://localhost:9000
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=minioadmin
S3_ACCESS_KEY_SECRET=minioadmin123
S3_BUCKET_NAME=cmo-artifacts
S3_FORCE_PATH_STYLE=true

# OpenTelemetry
OTEL_ENABLED=true
OTEL_SERVICE_NAME=cmo-elg
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_TRACE_SAMPLE_RATE=1.0

# OPA Policies
OPA_POLICY_PATH=./policies/default.wasm
OPA_ENABLED=true

# Logging
LOG_LEVEL=info
LOG_PRETTY=true

# Service
NODE_ENV=development
PORT=8083
HEALTH_CHECK_PATH=/health

# Runtime Configuration
ELG_MAX_STEP_DURATION_MS=30000
ELG_CHECKPOINT_INTERVAL=1
ELG_ACTIVITY_TIMEOUT_MS=60000
ELG_MAX_RETRIES=3
