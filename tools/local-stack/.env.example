# CMO/ELG Local Development Stack Configuration
# Copy this file to .env and adjust values as needed

# =========================================
# PostgreSQL Configuration
# =========================================
POSTGRES_DB=playwright_enterprise
POSTGRES_USER=admin
POSTGRES_PASSWORD=secure123
POSTGRES_PORT=5432
POSTGRES_HOST=localhost
POSTGRES_HOST_AUTH_METHOD=md5

# Database URL (for applications)
DATABASE_URL=postgresql://admin:secure123@localhost:5432/playwright_enterprise

# =========================================
# Redis Configuration
# =========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Redis URL (for applications)
REDIS_URL=redis://localhost:6379/0

# =========================================
# MinIO (S3-compatible) Configuration
# =========================================
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin123
S3_BUCKET=cmo-artifacts
S3_REGION=us-east-1
S3_FORCE_PATH_STYLE=true
S3_PORT=9000
S3_CONSOLE_PORT=9001

# =========================================
# CMO/ELG Service Configuration
# =========================================
NODE_ENV=development
PORT=8083
LOG_LEVEL=debug
LOG_PRETTY=true

# OpenTelemetry (optional - leave blank to disable)
OTEL_ENABLED=false
OTEL_SERVICE_NAME=cmo-elg
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_TRACE_SAMPLE_RATE=1.0

# OPA Policy Enforcement (optional - leave blank to disable)
OPA_ENABLED=true
OPA_POLICY_PATH=./policies/default.wasm

# =========================================
# Redis Streams Transport Configuration
# =========================================
REDIS_STREAM_NAME=cmo:a2a
REDIS_CONSUMER_GROUP=cmo-workers
REDIS_CONSUMER_NAME=cmo-worker-1
REDIS_DLQ_STREAM=cmo:a2a:dlq
REDIS_MAX_PENDING=1000
REDIS_BATCH_SIZE=10
REDIS_BLOCK_MS=5000

# =========================================
# Runtime Configuration
# =========================================
ELG_MAX_STEP_DURATION_MS=30000
ELG_CHECKPOINT_INTERVAL=1
ELG_ACTIVITY_TIMEOUT_MS=60000
ELG_MAX_RETRIES=3
