# Enterprise Configuration Template
# Copy to .env and fill in your values

# =============================================================================
# SUPABASE CONFIGURATION (Free Tier)
# =============================================================================
# Get these from: https://supabase.com/dashboard/project/your-project/settings/api

# Your project URL (format: https://abcdefghijklmnop.supabase.co)
SUPABASE_URL=https://your-project-id.supabase.co

# Public anon key (safe to use in frontend)
SUPABASE_ANON_KEY=your-anon-key-here

# Service role key (SECRET - server-side only!)
SUPABASE_SERVICE_KEY=your-service-role-key-here

# Database connection string
# Format: postgresql://postgres:[PASSWORD]@db.[PROJECT-ID].supabase.co:5432/postgres
DATABASE_URL=postgresql://postgres:your-db-password@db.your-project-id.supabase.co:5432/postgres

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================
SUPABASE_STORAGE_BUCKET=test-artifacts
ARTIFACTS_CDN_URL=https://your-project-id.supabase.co/storage/v1/object/public
MAX_ARTIFACT_SIZE_MB=100

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
NODE_ENV=development
PORT=3001

# Generate with: openssl rand -base64 32
JWT_SECRET=your-32-character-secret-key-here

# Frontend URL for CORS
CORS_ORIGIN=http://localhost:5173

# Default timezone for scheduling (auto-detected if not set)
# Use IANA timezone format: America/New_York, Europe/London, Asia/Jerusalem, etc.
DEFAULT_TIMEZONE=auto

# =============================================================================
# ENTERPRISE FEATURES
# =============================================================================
# Multi-tenancy
DEFAULT_TENANT_ID=default
ENABLE_MULTI_TENANT=true
MAX_TENANTS_PER_INSTANCE=100

# Performance & Scaling
MAX_POOL_SIZE=10
CONNECTION_TIMEOUT=30000
QUERY_TIMEOUT=60000
ENABLE_READ_REPLICAS=false

# Background Jobs (Redis not needed for free tier)
ENABLE_BACKGROUND_JOBS=false
REDIS_URL=redis://localhost:6379

# Monitoring & Logging
LOG_LEVEL=info
ENABLE_METRICS=true
METRICS_PORT=9090

# Data Lifecycle
DATA_RETENTION_DAYS=90
AUTO_ARCHIVE_ENABLED=true
ARCHIVE_AFTER_DAYS=30

# Feature Flags
ENABLE_REAL_TIME_UPDATES=true
ENABLE_ADVANCED_ANALYTICS=true
ENABLE_WEBHOOK_NOTIFICATIONS=false

# =============================================================================
# CI/CD CONFIGURATION
# =============================================================================

# Jenkins Integration
CI_JENKINS_URL=http://jenkins-server:8080
CI_JENKINS_USER=qa-intelligence
CI_JENKINS_TOKEN=your-jenkins-api-token-here
JENKINS_ENCRYPTION_KEY=your-32-character-encryption-key

# Environment Configuration
CI_DEVTEST_SERVER=DevTest
CI_STAGING_SERVER=Staging
CI_PRODUCTION_SERVER=Production
CI_DEPLOY_DIR=C:\\inetpub\\WeSign

# Test Suite Configuration
# WeSign test suite path (relative to backend directory)
WESIGN_TEST_SUITE_PATH=../new_tests_for_wesign
# Python executable path (use 'python' or 'python3' for system PATH, or absolute path)
PYTHON_PATH=python
# Legacy path for compatibility (if needed)
LEGACY_WESIGN_PATH=C:/Users/gals/seleniumpythontests-1/playwright_tests/

# COM (Context Orchestrator Management) Service
# URL for COM service (agent memory and context retrieval)
COM_SERVICE_URL=http://localhost:8083

# Artifact Storage
CI_ARTIFACTS_PATH=./artifacts/ci
CI_ARTIFACTS_RETENTION_DAYS=90
CI_MAX_ARTIFACT_SIZE_MB=500

# Pipeline Configuration
CI_MAX_PARALLEL_WORKERS=8
CI_DEFAULT_TIMEOUT=3600
CI_HEALTH_CHECK_INTERVAL=30

# Notification Configuration
CI_EMAIL_ENABLED=false
CI_SLACK_ENABLED=false
CI_TEAMS_ENABLED=false
CI_WEBHOOK_ENABLED=true

# Security
CI_REQUIRE_APPROVAL_PROD=true
CI_AUDIT_LOGGING=true
CI_ENCRYPT_CREDENTIALS=true

# Performance
CI_CACHE_ENABLED=true
CI_METRICS_COLLECTION=true
CI_LOG_STREAMING=true

# =============================================================================
# QUICK SETUP INSTRUCTIONS
# =============================================================================
# 1. Go to https://supabase.com and create free account
# 2. Create new project (takes ~2 minutes)
# 3. Go to Settings → API and copy the values above
# 4. Go to Settings → Database and copy connection string
# 5. Create storage bucket named "test-artifacts"
# 6. Setup Jenkins server and configure API token
# 7. Configure WeSign test suite path
# 8. Copy this file to .env and fill in the values
# 9. Run: npm run dev